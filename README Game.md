﻿﻿# ﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿Projet GENIUS_Voici l'ensemble du code Genius et avec bien sûr quelques explications. Nous allons voir celui-ci en plusieurs parties._### I/ Le dossier `Assets/Plugins`Ce dossier permet à Unity de recevoir des nouvelles librairies dll pour permet l'apport de plusieurs fonctions.Dans le cas présent, nous avons eu besoin que de 2 types dedll:- `Mysql.Data`, `System.Data` et `System` nous permettant de faire des connections aux bases de données et ainsi récupérer les informations de celle-ci.- `I18N` qui ne permet de maintenir la connexion du jeu après sa compilation en format Android.### II/ Le dossier `Assets/Prefab`Comme son nom l'indique, ce dossier comporte l'ensemble des objets préfabriqués du jeu qui nous permet beaucoup de faciliter la création des objets sur le moteur. En effet, les prefabs sont génériques. Ils ont permis d'alimenter les scènes de Unity sans pour autant faire des copier/coller de chaque Objet. Nous allons voir plus en détail chaque prefab.#### • CadreTupleBlanc :Ce sont l'ensemble des objets qui vont compléter le profil sur joueur. Par exemple, si le joueur va voir ses diplômes et qu'il en a 2, alors il y aura 2 CadreTupleBlanc complétés avec les différentes informations des diplômes qu'il possède.Pareil pour ses objets, compétences et Succès.#### • Caméra Editeur :Elle permet de voir la scène dans l'éditeur et non en jeu. Elle est supprimé car il y a une seule caméra pour tout le jeu qui est lancé au début.#### - ChargerFenêtre : C'est une objet en jeu non visible qui comporte toutes les fonctions de chargement du jeu. Elle est présente partout et permet de charger des lieux, fenêtre et popup.#### - Joueur :L'objet `Joueur` non visible qui permet de récupérer l'ensemble des données du joueur après sa connexion. Présente dans toutesscènes.#### - Examen : L'objet `Examen` est en fait l'icone qui apparait dans la salle d'examen. Elle comporte son design et des fonctions de clique qui lance ainsi l'examen.#### - Liste4Objets :Une prefab très particulière, en effet, c'est une ranger qui peut comporter 4 objets dans l'amélioration du missions. Si le joueur veut améliorer une mission avec un objet, il verra tout ses objets apparaitre par rangées de 4.#### - Menu : La barre de menu du joueur avec ses différentes fonctionnalités. Elle est présente dans quasiment toutes les scènes.#### - Mission :Tout comme pour les examens, la prefab mission est l'objet qui apparait lorsqu'une mission est présente. Présent que dans les quartiers.#### - MissionDivertissement : Pareil que les missions sauf que c'est pour le divertissement.#### - Objet: La prefab `Objet` apparait lors de l'utilisation d'un objet lors d'une amélioration. Un cadre carré avec l'icone de l'objet.#### - Quartier: Une prefab présente dans chaque lieu permettant de récupérer les informations du quartier mais aussi possède la fonction qui fait apparaitre toutes les missions.#### - Salle d'examen : Même système que le quartier, elle récupère les informations de la salle et place les diplômes en fonctions de la salle où vous êtes.#### - Tuple : L'objet permet l'apparition de toutes sortes de cadres dans les feuilles de missions que ça soit pour les gains, pertes, compétences etc.Elle est présente dans les feuilles de résultat, les prérequis et au lancement de l'activité. 2 gains dans une mission -> 2 tuples apparaissent._Ensuite il y a tout les autres tuples mais c'est toujours le même principe juste que des fois y'a des images, des icones etc._### III/ Le dossier `Assets/Resources`Le dossier ressources permet de stocker tout un tas de choses et surtout les graphismes. En effet, le fait d'avoir un dossier nommé `Resources`, Unity considère que c'est un dossier avec des ressources de type donc il nous propose des fonctions pour cela dont `Resources.Load()` qui permet de charger des ressources dans le dossier `Resources`. C'est pour cela que nous y avons mis nos 2 dossiers pour les images et pour les icones.#### Le dossier images : C'est le dossier qui contient l'ensemble des images des quartiers qui sont placées directement dans la scène. Pas de scripten particulier pour les associer à des objets ou autre.#### Le dossier icones : L'endroit où sont placés tout les icones du jeu et peuvent être placés un peu partout dans les scènes. Certains icones telles que le grade du rang sont associés à des scripts. Une mission de rang A se verra avec une texture de rang A directement préchargé par le jeu.### IV/ Le dossier `Assets/scripts`Le plus gros dossier, l'ensemble de tout les scripts C# du jeu. Après plusieurs restructurations du code pendant ma période d'alternance,j'ai enfin une structure plutôt correcte divisé en 4 dossiers distincts. Le dossier `Class` avec tous les objets de la base de données et quelques exceptions. Le dossier `Configuration` pour la connexion à la base de données. Le dossier `Fabrique` permet de regrouper l'ensemble des scripts permettant de remplir les scènes, par exemple, la feuille de mission sera remplie grâce au script `FabriqueMission`. et le dernier dossier, `Fonction`, est celui des fonctions qui permettent d'effectuer certains scripts en fonctions des actions du joueur.#### Le dossier `Class` : Dans ce dossier, il y a 3 types de classes : - Les classes qui sont directement des objets de la base de données- Les classes qui sont objets seulement dans le jeu- Les classes de la récupération des ressourcesLes classes objets de BDD tel que `Mission`, `Joueur`, `Gain`, `Rang`, `Objet` etc. sont des entités a part entière. Elles sont récupérées au lancement du jeu sauf pour les classes telles que `Joueur`, `Examen` etc où cela requiert la connexion du joueur. Cela permet d'avoir toutes les informations nécéssaires pour traiter ces informations en jeu. Ces classes peuvent aussi posséder leurs propres fonctions comme par exemple la classe `Gain` qui en fonction de la classe qu'on lui donne.Les classes qui sont objets seulement en jeu sont par exemple le `SpawnerMission`, `SpawnerExamen` qui permettent de faire apparaitre les objets sur l'écran du joueur après les avoir récupérer. Elles n'ont aucunes présences en base de données et sont composées d'entités telles que les missions pour pouvoir les placer ou les examens etc.Pour finir,, les `RessourcesBDD`, `RessourcesGraphiques` et `RessourcesJoueurs` ne sont ni dans le jeu ni dans la BDD. En effet, c'est juste dans le fond du programme/jeu, que ces 3 classes permettent de récupérer toutes les ressources de la BDD et de les lister. La plupart se font au lancement du jeu, d'autres à la connexion du joueur et à la dernière qui est toutes les 5 minutes (le renouvellement des missions)#### Le dossier `Config` :C'est l'endroit où l'on mettra toutes les informations nécéssaires à la configuration du jeu ou de la connexion. Pour l'instant, il ne possède qu'un seul script renseignant les informations pour la base de données avec le login, adresse et port mais il y aura la possibilité d'en ajouter d'autres.#### Le dossier `Fabrique` :Pour ce dossier, les scripts ont tous le même objectif. Remplir les scènes auxquelles ils sont associés. En effet, ce sont les scènes qui sont liées aux informations sur les objets du jeu. Par exemple, la `FabriqueMission` est présente dans la fiche de mission permet d'afficher les informations de la mission et ses gains. Ces fabriques, qui servent à retranscrire les informations à l'écran, ont aussi certaines fonctions comme déclencher le calcul des gain ou bien même de déclencher les résultats missions et bien d'autres.#### Le dossier `Fonction` :Le dossier avec l'ensemble des scripts qui servent à tout types de fonctions. Du chargement d'un lieu à un test de connexion, un tout plein de fonctions est présent dans ce dossier. Ces fonctions d'ailleurs peuvent être en surface du jeu par exemple la récupération de la mission cliqué mais aussi en arrière plan comme la fonction `AGarder` qui permet de ne pas détruire certains objets lors d'un changement de lieu. Ces fonctions sont souvent basées sur les transitions entre les scènes et la récupération d'événements.### V/ Le dossier `Assets/scènes`Comme son nom l'indique, ce dossier est là pour rassembler toutes les scènes du jeu. On peut modifier à tout moment les scènes mais pour voir les conséquences de ces changement, il faut que le joueur soit connecté et donc passer par la première scène pour ensuite naviguer dans le jeu pour atteindre la scène souhaitée. Certaines scènes sont composées de prefabs par exemple, toutes les scènes après la connexion possède la prefab `Menu` qui permet d'avoir le menu pour chaque scène.